(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[434],{1617:(e,t,s)=>{Promise.resolve().then(s.bind(s,8453))},8453:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>N});var a=s(5155),r=s(2115),l=s(8173),n=s.n(l),i=s(7364),d=s(7401);let c=(0,d.A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),o=(0,d.A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var m=s(4081),u=s(8684),x=s(4505),h=s(3239),p=s(9110);let f=(0,d.A)("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),g=(0,d.A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),y=(0,d.A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var v=s(4085),b=s(5007),j=s(9286);function N(){let[e,t]=(0,r.useState)(!1),[s,l]=(0,r.useState)(null),[d,N]=(0,r.useState)(null),[w,k]=(0,r.useState)(null),[A,C]=(0,r.useState)(!1),_=(0,r.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?C(!0):"dragleave"===e.type&&C(!1)},[]),D=(0,r.useCallback)(e=>{if(e.preventDefault(),e.stopPropagation(),C(!1),e.dataTransfer.files&&e.dataTransfer.files[0]){let t=e.dataTransfer.files[0];"application/pdf"===t.type?(k(t),l(null),N(null)):l("Please upload a PDF file")}},[]),F=async()=>{if(!w){l("Please select a PDF file");return}t(!0),l(null);try{let e=new FormData;e.append("file",w);let t=await fetch("".concat("http://localhost:8000","/verify/file"),{method:"POST",body:e}),s=await t.json();if(!t.ok)throw Error(s.detail||"Verification failed");N(s)}catch(e){l(e instanceof Error?e.message:"An error occurred")}finally{t(!1)}};return(0,a.jsxs)("main",{className:"container mx-auto px-4 py-8 max-w-2xl",children:[(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsxs)(n(),{href:"/",className:"inline-flex items-center text-sm text-gray-600 hover:text-gray-900",children:[(0,a.jsx)(i.A,{className:"mr-2 h-4 w-4"}),"Back to Home"]})}),(0,a.jsxs)(b.Zp,{children:[(0,a.jsx)(b.aR,{children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"h-12 w-12 rounded-full bg-purple-100 flex items-center justify-center",children:(0,a.jsx)(c,{className:"h-6 w-6 text-purple-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(b.ZB,{children:"Document Verification"}),(0,a.jsx)(b.BT,{children:"Upload a CertiTrust stamped PDF to verify its authenticity"})]})]})}),(0,a.jsxs)(b.Wu,{className:"space-y-6",children:[s&&(0,a.jsxs)("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-red-50 text-red-700 text-sm",children:[(0,a.jsx)(o,{className:"h-4 w-4 flex-shrink-0"}),s]}),!d&&(0,a.jsxs)("div",{className:"\n                relative border-2 border-dashed rounded-lg p-8 text-center transition-colors\n                ".concat(A?"border-purple-500 bg-purple-50":"border-gray-300 hover:border-gray-400","\n                ").concat(w?"bg-blue-50 border-blue-300":"","\n              "),onDragEnter:_,onDragLeave:_,onDragOver:_,onDrop:D,children:[(0,a.jsx)("input",{type:"file",accept:".pdf,application/pdf",onChange:e=>{if(e.target.files&&e.target.files[0]){let t=e.target.files[0];"application/pdf"===t.type?(k(t),l(null),N(null)):l("Please upload a PDF file")}},className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),w?(0,a.jsxs)("div",{children:[(0,a.jsx)(m.A,{className:"h-12 w-12 text-blue-600 mx-auto mb-2"}),(0,a.jsx)("p",{className:"font-medium text-blue-800",children:w.name}),(0,a.jsxs)("p",{className:"text-sm text-blue-600",children:[(w.size/1024).toFixed(1)," KB"]})]}):(0,a.jsxs)("div",{children:[(0,a.jsx)(u.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),(0,a.jsx)("p",{className:"font-medium text-gray-700",children:"Drag & drop a stamped PDF here"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"or click to browse"})]})]}),w&&!d&&(0,a.jsx)(v.$,{onClick:F,className:"w-full",disabled:e,children:e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Verifying..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c,{className:"mr-2 h-4 w-4"}),"Verify Document"]})}),d&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"\n                p-6 rounded-lg text-center\n                ".concat(d.is_valid?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200","\n              "),children:d.is_valid?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.A,{className:"h-16 w-16 text-green-600 mx-auto mb-3"}),(0,a.jsx)("h3",{className:"text-xl font-bold text-green-800 mb-2",children:"Document Verified âœ“"}),(0,a.jsx)("p",{className:"text-green-600",children:d.message})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o,{className:"h-16 w-16 text-red-600 mx-auto mb-3"}),(0,a.jsx)("h3",{className:"text-xl font-bold text-red-800 mb-2",children:"Verification Failed"}),(0,a.jsx)("p",{className:"text-red-600",children:d.message})]})}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("h4",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[(0,a.jsx)(c,{className:"h-4 w-4"}),"Trust Summary"]}),(0,a.jsxs)("div",{className:"grid gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[d.is_valid?(0,a.jsx)(h.A,{className:"h-5 w-5 text-green-600"}):(0,a.jsx)(o,{className:"h-5 w-5 text-red-600"}),(0,a.jsx)("span",{className:"font-medium",children:"Ed25519 Signature"})]}),(0,a.jsx)(j.E,{variant:d.is_valid?"success":"destructive",children:d.is_valid?"Valid":"Invalid"})]}),d.institution_name&&(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"h-5 w-5 text-blue-600"}),(0,a.jsx)("span",{className:"font-medium",children:"Issuing Institution"})]}),(0,a.jsx)("span",{className:"text-sm font-medium",children:d.institution_name})]}),d.merkle_root&&(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(f,{className:"h-5 w-5 text-purple-600"}),(0,a.jsx)("span",{className:"font-medium",children:"Audit Log Chain"})]}),(0,a.jsxs)(j.E,{variant:"outline",children:["Merkle Root: ",d.merkle_root.slice(0,12),"..."]})]}),d.document_type&&(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(m.A,{className:"h-5 w-5 text-gray-600"}),(0,a.jsx)("span",{className:"font-medium",children:"Document Type"})]}),(0,a.jsx)(j.E,{variant:"secondary",children:d.document_type.charAt(0).toUpperCase()+d.document_type.slice(1)})]}),d.issued_at&&(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(g,{className:"h-5 w-5 text-gray-600"}),(0,a.jsx)("span",{className:"font-medium",children:"Issued At"})]}),(0,a.jsx)("span",{className:"text-sm",children:new Date(d.issued_at).toLocaleString()})]})]})]}),d.qr_data&&(0,a.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,a.jsxs)("h4",{className:"font-semibold text-blue-900 mb-2 flex items-center gap-2",children:[(0,a.jsx)(y,{className:"h-4 w-4"}),"W3C Verifiable Credential Data"]}),(0,a.jsx)("pre",{className:"text-xs bg-white p-3 rounded overflow-x-auto",children:JSON.stringify(d.qr_data,null,2)})]}),(0,a.jsx)(v.$,{onClick:()=>{k(null),N(null),l(null)},variant:"outline",className:"w-full",children:"Verify Another Document"})]})]})]})]})}},9286:(e,t,s)=>{"use strict";s.d(t,{E:()=>i});var a=s(5155);s(2115);var r=s(1027),l=s(9602);let n=(0,r.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white shadow hover:bg-green-600",warning:"border-transparent bg-yellow-500 text-white shadow hover:bg-yellow-600"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:s,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)(n({variant:s}),t),...r})}},4085:(e,t,s)=>{"use strict";s.d(t,{$:()=>c});var a=s(5155),r=s(2115),l=s(2317),n=s(1027),i=s(9602);let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,t)=>{let{className:s,variant:r,size:n,asChild:c=!1,...o}=e,m=c?l.DX:"button";return(0,a.jsx)(m,{className:(0,i.cn)(d({variant:r,size:n,className:s})),ref:t,...o})});c.displayName="Button"},5007:(e,t,s)=>{"use strict";s.d(t,{BT:()=>c,Wu:()=>o,ZB:()=>d,Zp:()=>n,aR:()=>i,wL:()=>m});var a=s(5155),r=s(2115),l=s(9602);let n=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("rounded-xl border bg-card text-card-foreground shadow",s),...r})});n.displayName="Card";let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",s),...r})});i.displayName="CardHeader";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("font-semibold leading-none tracking-tight",s),...r})});d.displayName="CardTitle";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",s),...r})});c.displayName="CardDescription";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",s),...r})});o.displayName="CardContent";let m=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",s),...r})});m.displayName="CardFooter"},9602:(e,t,s)=>{"use strict";s.d(t,{cn:()=>l});var a=s(3463),r=s(9795);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}},3239:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(7401).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},4081:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(7401).A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},4505:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(7401).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},8684:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(7401).A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[173,415,441,517,358],()=>t(1617)),_N_E=e.O()}]);