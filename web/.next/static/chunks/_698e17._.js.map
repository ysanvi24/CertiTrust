{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/anshul-jain/Desktop/CertiTrust-anshul-fork/web/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n\n/**\n * API client for FastAPI backend\n */\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000'\n\nexport async function apiRequest<T>(\n  endpoint: string,\n  options: RequestInit = {}\n): Promise<T> {\n  const url = `${API_URL}${endpoint}`\n  \n  const response = await fetch(url, {\n    ...options,\n    headers: {\n      ...options.headers,\n    },\n  })\n\n  if (!response.ok) {\n    const error = await response.json().catch(() => ({ detail: 'Request failed' }))\n    throw new Error(error.detail || `HTTP ${response.status}`)\n  }\n\n  return response.json()\n}\n\nexport async function apiUpload(\n  endpoint: string,\n  formData: FormData\n): Promise<Response> {\n  const url = `${API_URL}${endpoint}`\n  \n  return fetch(url, {\n    method: 'POST',\n    body: formData,\n  })\n}\n\n/**\n * Format date for display\n */\nexport function formatDate(date: string | Date): string {\n  return new Intl.DateTimeFormat('en-US', {\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit',\n  }).format(new Date(date))\n}\n\n/**\n * Download a blob as a file\n */\nexport function downloadBlob(blob: Blob, filename: string) {\n  const url = URL.createObjectURL(blob)\n  const a = document.createElement('a')\n  a.href = url\n  a.download = filename\n  document.body.appendChild(a)\n  a.click()\n  document.body.removeChild(a)\n  URL.revokeObjectURL(url)\n}\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AASgB;;;AAPT,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,8JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,wIAAA,CAAA,OAAI,AAAD,EAAE;AACtB;AAEA;;CAEC,GACD,MAAM,UAAU,gKAAA,CAAA,UAAO,CAAC,GAAG,CAAC,mBAAmB,IAAI;AAE5C,eAAe,WACpB,QAAgB,EAChB,UAAuB,CAAC,CAAC;IAEzB,MAAM,MAAM,GAAG,UAAU,UAAU;IAEnC,MAAM,WAAW,MAAM,MAAM,KAAK;QAChC,GAAG,OAAO;QACV,SAAS;YACP,GAAG,QAAQ,OAAO;QACpB;IACF;IAEA,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,QAAQ,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC;gBAAE,QAAQ;YAAiB,CAAC;QAC7E,MAAM,IAAI,MAAM,MAAM,MAAM,IAAI,CAAC,KAAK,EAAE,SAAS,MAAM,EAAE;IAC3D;IAEA,OAAO,SAAS,IAAI;AACtB;AAEO,eAAe,UACpB,QAAgB,EAChB,QAAkB;IAElB,MAAM,MAAM,GAAG,UAAU,UAAU;IAEnC,OAAO,MAAM,KAAK;QAChB,QAAQ;QACR,MAAM;IACR;AACF;AAKO,SAAS,WAAW,IAAmB;IAC5C,OAAO,IAAI,KAAK,cAAc,CAAC,SAAS;QACtC,MAAM;QACN,OAAO;QACP,KAAK;QACL,MAAM;QACN,QAAQ;IACV,GAAG,MAAM,CAAC,IAAI,KAAK;AACrB;AAKO,SAAS,aAAa,IAAU,EAAE,QAAgB;IACvD,MAAM,MAAM,IAAI,eAAe,CAAC;IAChC,MAAM,IAAI,SAAS,aAAa,CAAC;IACjC,EAAE,IAAI,GAAG;IACT,EAAE,QAAQ,GAAG;IACb,SAAS,IAAI,CAAC,WAAW,CAAC;IAC1B,EAAE,KAAK;IACP,SAAS,IAAI,CAAC,WAAW,CAAC;IAC1B,IAAI,eAAe,CAAC;AACtB"}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///home/anshul-jain/Desktop/CertiTrust-anshul-fork/web/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2\",\n        sm: \"h-8 rounded-md px-3 text-xs\",\n        lg: \"h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;AAAA;AAEA;AACA;AAFA;;;;;;AAIA,MAAM,iBAAiB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACvB,ySACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,8JAAM,UAAU,MAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,mKAAA,CAAA,OAAI,GAAG;IAC9B,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 137, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 143, "column": 0}, "map": {"version":3,"sources":["file:///home/anshul-jain/Desktop/CertiTrust-anshul-fork/web/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-xl border bg-card text-card-foreground shadow\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"font-semibold leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;;;;AAEA,MAAM,qBAAO,8JAAM,UAAU,MAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,yDACA;QAED,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,8JAAM,UAAU,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,8JAAM,UAAU,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,6CAA6C;QAC1D,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,8JAAM,UAAU,OAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,8JAAM,UAAU,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,8JAAM,UAAU,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 240, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 246, "column": 0}, "map": {"version":3,"sources":["file:///home/anshul-jain/Desktop/CertiTrust-anshul-fork/web/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n        success:\n          \"border-transparent bg-green-500 text-white shadow hover:bg-green-600\",\n        warning:\n          \"border-transparent bg-yellow-500 text-white shadow hover:bg-yellow-600\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;AAEA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB,wKACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;YACT,SACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,6LAAC;QAAI,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE;KAJS"}},
    {"offset": {"line": 290, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 296, "column": 0}, "map": {"version":3,"sources":["file:///home/anshul-jain/Desktop/CertiTrust-anshul-fork/web/app/verify/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useCallback } from 'react'\nimport Link from 'next/link'\nimport { \n  Shield, ArrowLeft, Upload, CheckCircle, XCircle, \n  AlertTriangle, FileText, Link2, Clock, Building2, Loader2,\n  AlertCircle, Info\n} from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport { Card, CardHeader, CardTitle, CardDescription, CardContent } from '@/components/ui/card'\nimport { Badge } from '@/components/ui/badge'\n\n// Error codes from backend\ntype ErrorCode = \n  | 'SUCCESS'\n  | 'QR_NOT_FOUND'\n  | 'QR_DECODE_FAIL'\n  | 'PAYLOAD_READ_FAIL'\n  | 'HASH_MISMATCH'\n  | 'SIGNATURE_MISMATCH'\n  | 'INSTITUTION_NOT_FOUND'\n  | 'DOCUMENT_REVOKED'\n  | 'INTERNAL_ERROR';\n\ninterface VerificationResult {\n  valid: boolean\n  error_code?: ErrorCode\n  message: string\n  file_name?: string\n  document_id?: string\n  issuer_id?: string\n  institution_name?: string\n  institution_active?: boolean\n  original_hash?: string\n  current_file_hash?: string\n  signature?: string\n  signature_valid?: boolean\n  merkle_root?: string\n  credential_type?: string\n  hash_note?: string\n  signature_verified_with?: string\n  // Legacy fields\n  is_valid?: boolean\n  institution_id?: string | null\n  issued_at?: string | null\n  document_type?: string | null\n  qr_data?: Record<string, unknown>\n}\n\n// Friendly error messages for each error code\nconst ERROR_MESSAGES: Record<ErrorCode, { title: string; description: string; icon: typeof AlertCircle }> = {\n  SUCCESS: { \n    title: 'Document Verified', \n    description: 'The document signature is valid and authentic.',\n    icon: CheckCircle\n  },\n  QR_NOT_FOUND: { \n    title: 'QR Code Not Found', \n    description: 'No verification QR code was detected in this PDF. Is this a CertiTrust stamped document?',\n    icon: AlertTriangle\n  },\n  QR_DECODE_FAIL: { \n    title: 'QR Decode Failed', \n    description: 'A QR code was found but could not be decoded. The image may be damaged or low resolution.',\n    icon: AlertTriangle\n  },\n  PAYLOAD_READ_FAIL: { \n    title: 'Invalid QR Payload', \n    description: 'The QR code does not contain valid verification data.',\n    icon: AlertCircle\n  },\n  HASH_MISMATCH: { \n    title: 'Document Modified', \n    description: 'The document content has been modified after signing.',\n    icon: XCircle\n  },\n  SIGNATURE_MISMATCH: { \n    title: 'Signature Invalid', \n    description: 'The cryptographic signature could not be verified. The document may have been tampered with or signed by an unknown issuer.',\n    icon: XCircle\n  },\n  INSTITUTION_NOT_FOUND: { \n    title: 'Issuer Not Found', \n    description: 'The issuing institution is not registered in the CertiTrust network.',\n    icon: AlertCircle\n  },\n  DOCUMENT_REVOKED: { \n    title: 'Document Revoked', \n    description: 'This document has been revoked by the issuing institution.',\n    icon: XCircle\n  },\n  INTERNAL_ERROR: { \n    title: 'Verification Error', \n    description: 'An internal error occurred during verification. Please try again.',\n    icon: AlertCircle\n  }\n};\n\nexport default function VerifyPage() {\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n  const [result, setResult] = useState<VerificationResult | null>(null)\n  const [file, setFile] = useState<File | null>(null)\n  const [dragActive, setDragActive] = useState(false)\n\n  const handleDrag = useCallback((e: React.DragEvent) => {\n    e.preventDefault()\n    e.stopPropagation()\n    if (e.type === \"dragenter\" || e.type === \"dragover\") {\n      setDragActive(true)\n    } else if (e.type === \"dragleave\") {\n      setDragActive(false)\n    }\n  }, [])\n\n  const handleDrop = useCallback((e: React.DragEvent) => {\n    e.preventDefault()\n    e.stopPropagation()\n    setDragActive(false)\n    \n    if (e.dataTransfer.files && e.dataTransfer.files[0]) {\n      const droppedFile = e.dataTransfer.files[0]\n      if (droppedFile.type === 'application/pdf') {\n        setFile(droppedFile)\n        setError(null)\n        setResult(null)\n      } else {\n        setError('Please upload a PDF file')\n      }\n    }\n  }, [])\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files && e.target.files[0]) {\n      const selectedFile = e.target.files[0]\n      if (selectedFile.type === 'application/pdf') {\n        setFile(selectedFile)\n        setError(null)\n        setResult(null)\n      } else {\n        setError('Please upload a PDF file')\n      }\n    }\n  }\n\n  const handleVerify = async () => {\n    if (!file) {\n      setError('Please select a PDF file')\n      return\n    }\n\n    setLoading(true)\n    setError(null)\n\n    try {\n      const apiUrl = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000'\n      const formData = new FormData()\n      formData.append('file', file)\n\n      const response = await fetch(`${apiUrl}/verify/file`, {\n        method: 'POST',\n        body: formData,\n      })\n\n      const data = await response.json()\n      \n      if (!response.ok) {\n        throw new Error(data.detail || 'Verification failed')\n      }\n\n      setResult(data)\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'An error occurred')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const resetVerification = () => {\n    setFile(null)\n    setResult(null)\n    setError(null)\n  }\n\n  return (\n    <main className=\"container mx-auto px-4 py-8 max-w-2xl\">\n      <div className=\"mb-8\">\n        <Link href=\"/\" className=\"inline-flex items-center text-sm text-gray-600 hover:text-gray-900\">\n          <ArrowLeft className=\"mr-2 h-4 w-4\" />\n          Back to Home\n        </Link>\n      </div>\n\n      <Card>\n        <CardHeader>\n          <div className=\"flex items-center gap-3\">\n            <div className=\"h-12 w-12 rounded-full bg-purple-100 flex items-center justify-center\">\n              <Shield className=\"h-6 w-6 text-purple-600\" />\n            </div>\n            <div>\n              <CardTitle>Document Verification</CardTitle>\n              <CardDescription>\n                Upload a CertiTrust stamped PDF to verify its authenticity\n              </CardDescription>\n            </div>\n          </div>\n        </CardHeader>\n\n        <CardContent className=\"space-y-6\">\n          {error && (\n            <div className=\"flex items-center gap-2 p-3 rounded-lg bg-red-50 text-red-700 text-sm\">\n              <XCircle className=\"h-4 w-4 flex-shrink-0\" />\n              {error}\n            </div>\n          )}\n\n          {/* File Upload Zone */}\n          {!result && (\n            <div\n              className={`\n                relative border-2 border-dashed rounded-lg p-8 text-center transition-colors\n                ${dragActive ? 'border-purple-500 bg-purple-50' : 'border-gray-300 hover:border-gray-400'}\n                ${file ? 'bg-blue-50 border-blue-300' : ''}\n              `}\n              onDragEnter={handleDrag}\n              onDragLeave={handleDrag}\n              onDragOver={handleDrag}\n              onDrop={handleDrop}\n            >\n              <input\n                type=\"file\"\n                accept=\".pdf,application/pdf\"\n                onChange={handleFileChange}\n                className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer\"\n              />\n              \n              {file ? (\n                <div>\n                  <FileText className=\"h-12 w-12 text-blue-600 mx-auto mb-2\" />\n                  <p className=\"font-medium text-blue-800\">{file.name}</p>\n                  <p className=\"text-sm text-blue-600\">\n                    {(file.size / 1024).toFixed(1)} KB\n                  </p>\n                </div>\n              ) : (\n                <div>\n                  <Upload className=\"h-12 w-12 text-gray-400 mx-auto mb-2\" />\n                  <p className=\"font-medium text-gray-700\">\n                    Drag & drop a stamped PDF here\n                  </p>\n                  <p className=\"text-sm text-gray-500\">\n                    or click to browse\n                  </p>\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* Verify Button */}\n          {file && !result && (\n            <Button \n              onClick={handleVerify} \n              className=\"w-full\" \n              disabled={loading}\n            >\n              {loading ? (\n                <>\n                  <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                  Verifying...\n                </>\n              ) : (\n                <>\n                  <Shield className=\"mr-2 h-4 w-4\" />\n                  Verify Document\n                </>\n              )}\n            </Button>\n          )}\n\n          {/* Verification Result */}\n          {result && (\n            <div className=\"space-y-4\">\n              {/* Main Status */}\n              {(() => {\n                const isValid = result.valid || result.is_valid\n                const errorCode = result.error_code || (isValid ? 'SUCCESS' : 'SIGNATURE_MISMATCH')\n                const errorInfo = ERROR_MESSAGES[errorCode as ErrorCode] || ERROR_MESSAGES.INTERNAL_ERROR\n                const StatusIcon = errorInfo.icon\n                \n                return (\n                  <>\n                    <div className={`\n                      p-6 rounded-lg text-center\n                      ${isValid ? 'bg-green-50 border border-green-200' : 'bg-red-50 border border-red-200'}\n                    `}>\n                      <StatusIcon className={`h-16 w-16 mx-auto mb-3 ${isValid ? 'text-green-600' : 'text-red-600'}`} />\n                      <h3 className={`text-xl font-bold mb-2 ${isValid ? 'text-green-800' : 'text-red-800'}`}>\n                        {errorInfo.title} {isValid ? '✓' : '✗'}\n                      </h3>\n                      <p className={isValid ? 'text-green-600' : 'text-red-600'}>{result.message}</p>\n                      \n                      {/* Error Code Badge */}\n                      {errorCode && errorCode !== 'SUCCESS' && (\n                        <Badge variant=\"outline\" className=\"mt-3\">\n                          Error Code: {errorCode}\n                        </Badge>\n                      )}\n                    </div>\n\n                    {/* Trust Summary Dashboard */}\n                    <div className=\"space-y-3\">\n                      <h4 className=\"font-semibold text-gray-900 flex items-center gap-2\">\n                        <Shield className=\"h-4 w-4\" />\n                        Trust Summary\n                      </h4>\n\n                      <div className=\"grid gap-3\">\n                        {/* Signature Validity */}\n                        <div className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                          <div className=\"flex items-center gap-2\">\n                            {result.signature_valid || isValid ? (\n                              <CheckCircle className=\"h-5 w-5 text-green-600\" />\n                            ) : (\n                              <XCircle className=\"h-5 w-5 text-red-600\" />\n                            )}\n                            <span className=\"font-medium\">Ed25519 Signature</span>\n                          </div>\n                          <Badge variant={result.signature_valid || isValid ? \"success\" : \"destructive\"}>\n                            {result.signature_valid || isValid ? 'Valid' : 'Invalid'}\n                          </Badge>\n                        </div>\n\n                        {/* Institution */}\n                        {(result.institution_name || result.issuer_id) && (\n                          <div className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                            <div className=\"flex items-center gap-2\">\n                              <Building2 className=\"h-5 w-5 text-blue-600\" />\n                              <span className=\"font-medium\">Issuing Institution</span>\n                            </div>\n                            <div className=\"text-right\">\n                              <span className=\"text-sm font-medium\">\n                                {result.institution_name || result.issuer_id}\n                              </span>\n                              {result.institution_active !== undefined && (\n                                <Badge variant={result.institution_active ? \"success\" : \"secondary\"} className=\"ml-2\">\n                                  {result.institution_active ? 'Active' : 'Inactive'}\n                                </Badge>\n                              )}\n                            </div>\n                          </div>\n                        )}\n\n                        {/* Document ID */}\n                        {result.document_id && (\n                          <div className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                            <div className=\"flex items-center gap-2\">\n                              <FileText className=\"h-5 w-5 text-gray-600\" />\n                              <span className=\"font-medium\">Document ID</span>\n                            </div>\n                            <code className=\"text-xs bg-gray-200 px-2 py-1 rounded\">\n                              {result.document_id.slice(0, 16)}...\n                            </code>\n                          </div>\n                        )}\n\n                        {/* Merkle Root */}\n                        {result.merkle_root && (\n                          <div className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                            <div className=\"flex items-center gap-2\">\n                              <Link2 className=\"h-5 w-5 text-purple-600\" />\n                              <span className=\"font-medium\">Merkle Root</span>\n                            </div>\n                            <Badge variant=\"outline\">\n                              {result.merkle_root.slice(0, 12)}...\n                            </Badge>\n                          </div>\n                        )}\n\n                        {/* Credential Type */}\n                        {(result.credential_type || result.document_type) && (\n                          <div className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                            <div className=\"flex items-center gap-2\">\n                              <FileText className=\"h-5 w-5 text-gray-600\" />\n                              <span className=\"font-medium\">Document Type</span>\n                            </div>\n                            <Badge variant=\"secondary\">\n                              {(result.credential_type || result.document_type || 'generic').toString().charAt(0).toUpperCase() + \n                               (result.credential_type || result.document_type || 'generic').toString().slice(1)}\n                            </Badge>\n                          </div>\n                        )}\n\n                        {/* Verification Method */}\n                        {result.signature_verified_with && (\n                          <div className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                            <div className=\"flex items-center gap-2\">\n                              <Shield className=\"h-5 w-5 text-green-600\" />\n                              <span className=\"font-medium\">Verified With</span>\n                            </div>\n                            <Badge variant=\"outline\">\n                              {result.signature_verified_with === 'institution_key' ? 'Institution Key' : 'Legacy Key'}\n                            </Badge>\n                          </div>\n                        )}\n                      </div>\n                    </div>\n\n                    {/* Hash Information (collapsible for technical users) */}\n                    {(result.original_hash || result.current_file_hash) && (\n                      <details className=\"p-4 bg-blue-50 rounded-lg border border-blue-200\">\n                        <summary className=\"font-semibold text-blue-900 cursor-pointer flex items-center gap-2\">\n                          <Info className=\"h-4 w-4\" />\n                          Technical Details\n                        </summary>\n                        <div className=\"mt-3 space-y-2 text-xs\">\n                          {result.original_hash && (\n                            <div>\n                              <span className=\"font-medium\">Original Hash (from QR):</span>\n                              <code className=\"block bg-white p-2 rounded mt-1 break-all\">\n                                {result.original_hash}\n                              </code>\n                            </div>\n                          )}\n                          {result.current_file_hash && (\n                            <div>\n                              <span className=\"font-medium\">Current File Hash:</span>\n                              <code className=\"block bg-white p-2 rounded mt-1 break-all\">\n                                {result.current_file_hash}\n                              </code>\n                            </div>\n                          )}\n                          {result.hash_note && (\n                            <p className=\"text-blue-700 italic\">{result.hash_note}</p>\n                          )}\n                        </div>\n                      </details>\n                    )}\n                  </>\n                )\n              })()}\n\n              {/* Reset Button */}\n              <Button \n                onClick={resetVerification} \n                variant=\"outline\" \n                className=\"w-full\"\n              >\n                Verify Another Document\n              </Button>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </main>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1185, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}